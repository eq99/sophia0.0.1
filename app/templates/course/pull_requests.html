{% extends 'base.html' %} {% block nav %}
<li class="nav-item">
  <a class="nav-link" href="{{contents_url}}">
    <svg
      width="1rem"
      aria-hidden="true"
      focusable="false"
      data-prefix="far"
      data-icon="list-alt"
      class="svg-inline--fa fa-list-alt fa-w-16"
      role="img"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 512 512"
    >
      <path
        fill="currentColor"
        d="M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v340a6 6 0 0 1-6 6zm-42-92v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm-252 12c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36z"
      ></path>
    </svg>
    课程目录
  </a>
</li>
{% endblock %} 

{% block article %}
<div class="list-group">
  {% for pr in prs %}
  <div class="list-group-item">
    <h5 class="mb-1">{{loop.index}}、 {{pr.description}}</h5>
    <div class="my-2">
      <a href="">{{pr.contributor.nickname}}</a> 
      <span class="text-muted ml-2">{{ pr.created_time }}</span>
    </div>
    <div class="row">
    <a class="btn btn-primary col-sm-2 ml-3" data-toggle="collapse" href={{"#diff{}".format(loop.index)}} role="button" aria-expanded="false" aria-controls={{"diff{}".format(loop.index)}}>
      前后对比
    </a>
    <a href="{{pr.accept_url}}" class="col-sm-2 offset-sm-5">接受修改</a>
    <a href="{{pr.reject_url}}" class="col-sm-2">放弃修改</a>
    </div>
  </div>
  <div class="collapse multi-collapse" id={{"diff{}".format(loop.index)}}>
    <div class="card card-body">{{pr.diff|safe}}</div>
  </div>
  {% endfor %}
</div>
{% endblock %}
